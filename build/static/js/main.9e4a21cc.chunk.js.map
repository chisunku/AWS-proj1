{"version":3,"sources":["services/dataService.js","components/LogIn.jsx","components/UploadFile.jsx","components/LogOut.jsx","components/HomePage.jsx","App.js","index.js"],"names":["global","fetch","require","AmazonCognitoIdentity","dataService","get_user_data","user_name","all","apiConfig","method","headers","then","res","json","upload_file","input_file","user_data","description","formData","FormData","append","console","log","body","delete_file","file_name","id","formdata","text","get_user","cognito_user","CognitoUserPool","UserPoolId","ClientId","getCurrentUser","getSession","e","session","alert","message","JSON","stringify","getUserAttributes","err","attributes","LogIn","href","class","PureComponent","UploadFile","props","state","files","result","uploadFile","bind","user","this","length","setState","setTimeout","isAdmin","refreshList","refreshList2","catch","type","onChange","target","value","desc","placeholder","name","onClick","LogOut","useState","setislogout","sessionStorage","clear","jwt","HomePage","getItem","admin","disp_user","undefined","set_description","user_table","d","user_admin","Array","isArray","t","decode","userObj","complete","payload","email","admin_table","file","window","open","saveAs","fileName","key","map","ele","userName","fileCreatedTime","fileUpdatedTime","download","event","onClickDownLoad","onClickDelete","App","location","hash","t_arr","split","replace","setItem","sess_token","check_valid","history","createBrowserHistory","routing","path","component","Login","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9e4a21cc.chunk.js","sourcesContent":["global.fetch = require('node-fetch');\nvar AmazonCognitoIdentity = require('amazon-cognito-identity-js');\n\nexport const dataService = {\n    get_user_data,\n    upload_file,\n    delete_file,\n    get_user\n}\n\nexport const apiConfig = {\n    endpointURL: \"https://drop.chinmayisunku.ml\"\n}\n\nfunction get_user_data(user_name,all) {\n    const requestOption = {\n        method: 'GET',\n        headers: { \"Content-Type\": \"application/json\" },\n    }\n    return fetch(`${apiConfig.endpointURL}/user_data?username=${user_name}&all=${all}`, requestOption).then(res => {\n        return res.json();\n    })\n}\n\nfunction upload_file(input_file, user_data, description) {\n    const formData = new FormData();\n    formData.append('file', input_file);\n    formData.append('first_name', user_data);\n    formData.append('last_name', user_data);\n    formData.append('desc', description);\n    formData.append('email', user_data);\n\tconsole.log(\"inside upload_file \",formData,\" \",input_file,\" \",user_data,\" \",description);\n    const requestOption = {\n        method: 'POST',\n        body: formData\n    }\n    return fetch(\"https://drop.chinmayisunku.ml\"+`/upload`, requestOption).then(res => {\n        return res;\n    })\n}\nfunction delete_file(file_name,id) {\n\tconsole.log(\"in delete_files\");\n\tconst formdata = new FormData();\n\tformdata.append('id', id);\n\tformdata.append('file',file_name);\n\tconst req = {\n\t\tmethod: 'DELETE',\n\t\tbody: formdata\n\t}\n\t//\treturn fetch(`${apiConfig.endpointURL}/delete_files?id=${id}&file=${file_name}`, { method: 'DELETE' });\n\treturn fetch(\"https://drop.chinmayisunku.ml/delete_files\",req).then(res => res.text()) // or res.json()\n.then(res => console.log(\"in delete proting:\",res));\n}\n\nfunction get_user() {\n    var pool_data = {\n        UserPoolId: 'us-east-2_0064KOcCQ',\n        ClientId: '2ub6k6peilk5te5prhkq2cjm5k',\n    };\n    var user_pool = new AmazonCognitoIdentity.CognitoUserPool(pool_data);\n    var cognito_user = user_pool.getCurrentUser();\n\tconsole.log(cognito_user);\n    if (cognito_user != null) {\n        cognito_user.getSession(function(e, session) {\n            if (e) {\n                alert(e.message || JSON.stringify(e));\n                return;\n            }\n            cognito_user.getUserAttributes(function(err, attributes) {\n                if (e) {\n                    console.log(e);\n                } else {\n                    console.log(attributes);\n                }\n            });\n        });\n    }\n}\n\n","import React, { PureComponent } from 'react'\nimport { useRouteMatch } from 'react-router-dom';\nimport '../myStyle.css';\n\nclass LogIn extends PureComponent {\n\n    render(){\n        return (\n            <center><div>\n                <h1>CHINMAYI'S MINI DROPBOX</h1>\n                <a href=\"https://chinmayisunku.auth.us-east-2.amazoncognito.com/login?response_type=token&client_id=2ub6k6peilk5te5prhkq2cjm5k&redirect_uri=https://drop.chinmayisunku.ml/\">\n                <button class=\"login_button\"> GETIN </button></a>\n            </div></center>\n        );\n    }\n}\n\nexport default LogIn\n","import React, { PureComponent } from 'react'\nimport { dataService } from '../services/dataService';\nimport '../myStyle.css'\nvar jwt = require('jsonwebtoken');\n\nclass UploadFile extends PureComponent {\n    constructor(props) {\n        super(props)\n        this.state = {\n            description: \"\",\n            files: [],\n            result: \"\"\n        }\n        this.uploadFile = this.uploadFile.bind(this);\n    }\n    uploadFile() {\n        const user = this.props.user\n        const files = this.state.files;\n        if (files.length > 0) {\n            dataService.upload_file(files[0], user, this.state.description)\n                .then(json => {\n                    this.setState({\n                        result: \"File Uploaded successfully\"\n                    });\n                    setTimeout(()=> {\n                        if (this.props.isAdmin){\n                            this.props.refreshList();\n                        } else {\n                            this.props.refreshList2(user);\n                        }\n                    }, 250);\n                })\n                .catch(e => {\n                    console.log(e);\n                    this.props.refreshList();\n                });\n        }\n    }\n    render() {\n        return (\n            <div>\n                    <p> File Upload Result: {this.state.result} </p>\n                        <input class='other_buttons' type=\"file\" onChange={e => this.setState({\n                            files: e.target.files\n                        })}>\n                        </input>\n                        &nbsp; &nbsp;\n                       <a>\n                       <input\n                            value={this.state.desc}\n                            onChange={e => this.setState({\n                                description: e.target.value\n                            })}\n                            placeholder=\"Description\"\n                            type=\"text\"\n                            name=\"Description\"\n                        />\n                        &nbsp; &nbsp;\n                        <button class='other_buttons' onClick={this.uploadFile}>Upload</button>\n                       </a>\n\n            </div>\n        )\n    }\n}\n\nexport default UploadFile","import React, { useState } from 'react';\n\nfunction LogOut(props) {\n    const [islogout, setislogout] = useState(\n       false\n    );\n    function logout() {\n        sessionStorage.clear();\n        setislogout(true)\n    }\n    return (\n        <div class='topright'>\n            <a href=\"https://drop.chinmayisunku.ml/\"><button class='other_buttons' onClick={logout}>\n                LogOut\n            </button></a>\n        </div>\n\n    );\n}\nexport default LogOut\n","import React, { PureComponent } from 'react';\nimport { saveAs } from \"file-saver\";\nimport { dataService } from '../services/dataService';\nimport UploadFile from './UploadFile';\nimport LogOut from './LogOut';\nimport LogInPage from './LogIn';\nimport '../myStyle.css';\nvar jwt = require('jsonwebtoken');\n\nclass HomePage extends PureComponent {\n\n\n    constructor(props) {\n        super(props)\n        const sessionToken = sessionStorage.getItem(\"token\")\n        this.state = {\n            admin: false,\n            disp_user: [],\n            user_data: undefined,\n            description: \"\"\n        }\n        this.set_description = this.set_description.bind(this)\n        this.user_table = this.user_table.bind(this)\n    }\n    set_description(d) {\n        this.setState({\n            description: d\n        })\n    }\n    admin_table(user,user_admin) {\n\t    console.log(\"inside admin module\");\n        var boll = false;\n        if(user_admin == true)\n            boll = true;\n            dataService.get_user_data(user,true)\n            .then(json => {\n                console.log(json);\n                if (Array.isArray(json)) {\n                    this.setState({\n                        disp_user: json\n                    });\n                }\n            })\n            .catch(e => {\n                console.log(e);\n            });\n    }\n    user_table(user) {\n\t    console.log(\"inside user table mtd\");\n        dataService.get_user_data(user,false)\n            .then(json => {\n                console.log(json);\n                if (Array.isArray(json)) {\n                    this.setState({\n                        disp_user: json\n                    });\n                }\n            })\n            .catch(e => {\n                console.log(e);\n            });\n\t    console.log(\"after usertable fetch\",this.state.disp_user);\n    }\n    componentDidMount() {\n        var t = sessionStorage.getItem(\"token\");\n\tconsole.log(\"token: \",t);\n        //console.log(this.state.user_data);\n\t//try {\n         // const payload = this.verifier.verify(t);\n        //} catch {\n         // console.log(\"Invalid token\");\n        //}\n        var decoded = jwt.decode(t);\n        var decoded = jwt.decode(t, { complete: true });\n\tconst userObj = decoded.payload;\n\tconsole.log(userObj);\n        this.setState({\n            user_data: userObj\n        })\n\t    console.log(\"outside timeout \",this.state.user_data);\n        setTimeout(()=> {\n            if(this.state.user_data.email==\"2712aabbccdd@gmail.com\"){\n                this.state.admin = true;\n            }\n\t\telse{\n\t\t\tthis.state.admin=false;\n\t\t}\n\n            if (this.state.admin){\n\t\t    console.log(\"in admin\", this.state.admin);\n                this.admin_table(this.state.user_data.email, true);\n            } else {\n\t\t    console.log(\"inside user\", this.state.admin);\n                this.user_table(this.state.user_data.email, false);\n            }\n        }, 500);\n        dataService.get_user()\n    }\n\n    onClickDownLoad(file) {\n        window.open(\"https://dfbiaa0nywvvp.cloudfront.net/\" + file);\n        saveAs(\"https://dfbiaa0nywvvp.cloudfront.net/\"+file, file );\n    }\n\n    onClickDelete(fileName, id) {\n    \tconsole.log(\"in onclick delete mtd\");\n\t    dataService.delete_file(fileName, id)\n            .then(json => {\n                console.log(\"from inside the delete fetch\",json);\n                setTimeout(()=> {\n                if (this.state.admin){\n                    this.admin_table(this.state.user_data.email, true);\n                } else {\n                    this.user_table(this.state.user_data.email, false);\n                }\n            }, 500);\n\n            })\n            .catch(e => {\n                console.log(e);\n            });\n    }\n\n    render() {\n        const { admin } = this.state;\n        return (\n            <center>\n                <div>\n                    <p> User: { this.state.user_data && <a href=\"#login\">{this.state.user_data.email}</a> }\n                    &nbsp;&nbsp;\n                    User Type:  { admin && <a> \"ADMIN\" </a> }\n                                { !admin && <a> \"Non Admin\"</a> }\n                    {this.state.user_data && <LogOut class='topright'></LogOut>}\n                    {!this.state.user_data && <LogInPage></LogInPage>}</p>\n                    { this.state.user_data &&\n                        <UploadFile\n                            user={this.state.user_data.email}\n                            description={this.state.description}\n                            refreshList={e => this.admin_table(this.state.user_data.email,this.state.admin)}\n                            refreshList2={e => this.user_table(this.state.user_data.email,this.state.admin)}\n                            admin={admin} >\n                        </UploadFile>\n                    }\n                    &nbsp; &nbsp;\n                    <div>\n                        <table>\n                            <tr key={0}>\n                                { admin && <th>User</th> }\n                                <th>File Name</th>\n                                <th>Description</th>\n                                <th>File Upload Time</th>\n                                <th>File Updated Time</th>\n                                {!admin && <th>Download</th>}\n                                <th>Delete</th>\n                            </tr>\n                            { this.state.disp_user.map(ele => {\n                                return (\n                                    <tr key={ele.id}>\n                                        { admin && <td>{ele.userName}</td> }\n                                        <td>{ele.fileName}</td>\n                                        <td>{ele.description}</td>\n                                        <td>{ele.fileCreatedTime}</td>\n                                        <td>{ele.fileUpdatedTime}</td>\n                                        { !admin &&\n                                            <td><a href={\"https://dfbiaa0nywvvp.cloudfront.net/\" + ele.fileName} target=\"_blank\" download={ele.fileName}>\n                                                <button class=\"download_button\" onClick={event => this.onClickDownLoad(ele.fileName)}>\n                                                    DownLoad\n                                                </button>\n                                            </a></td>\n                                        }\n                                        <td><button class=\"delete_button\" onClick={event => this.onClickDelete(ele.fileName, ele.id)}>\n                                            Delete\n                                        </button></td>\n                                    </tr>\n                                );})\n                            }\n                        </table>\n                    </div>\n                </div>\n            </center>\n        )\n    }\n}\n\nexport default HomePage\n","import React, { Fragment } from 'react';\nimport Login from './components/LogIn';\nimport HomePage from './components/HomePage';\nimport uploadFile from './components/UploadFile';\n\n\n\nfunction App(props) {\n  if (props.location && props.location.hash) {\n    const t_arr = props.location.hash.split(\"&\");\n    if (t_arr.length > 0) {\n      const t = t_arr[0].replace(\"#id_token=\", \"\").replace(\"#access_token=\", \"\")\n      sessionStorage.setItem(\"token\", t);\n    }\n  }\n\n  const sess_token = sessionStorage.getItem(\"token\")\n  const check_valid =  sess_token != undefined &&  sess_token.length>0\n\n  return (\n        <Fragment>\n               {check_valid &&\n               <HomePage></HomePage>\n              }\n              {\n               !check_valid &&\n                <Login></Login>\n              }\n        </Fragment>\n   \n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Router as BrowserRouter, Switch, Route, Link } from 'react-router-dom';\nimport {createBrowserHistory} from 'history';\nimport Login from './components/LogIn';\nimport HomePage from './components/HomePage';\n\nconst history =  createBrowserHistory();\nconst routing = (\n    <BrowserRouter history={history}>\n        <div>\n            <Switch>\n                <Route path=\"/\" component={App}/>\n                <Route path=\"/login\" component={Login}/>\n                <Route path=\"/userpage\" component={HomePage} />\n            </Switch>\n        </div>\n    </BrowserRouter>\n)\n\nReactDOM.render(routing, document.getElementById('root'));"],"sourceRoot":""}