import e from"react";import{translate as t,defaultFormFieldOptions as r,censorPhoneNumber as o,censorAllButFirstAndLast as i}from"@aws-amplify/ui";import{Flex as n}from"../../../primitives/Flex/Flex.js";import{Heading as a}from"../../../primitives/Heading/Heading.js";import{Radio as m}from"../../../primitives/Radio/Radio.js";import{RadioGroupField as l}from"../../../primitives/RadioGroupField/RadioGroupField.js";import{useAuthenticator as s}from"@aws-amplify/ui-react-core";import{useCustomComponents as c}from"../hooks/useCustomComponents/index.js";import{useFormHandlers as u}from"../hooks/useFormHandlers/useFormHandlers.js";import{RemoteErrorMessage as d}from"../shared/RemoteErrorMessage.js";import{TwoButtonSubmitFooter as f}from"../shared/TwoButtonSubmitFooter.js";import{RouteContainer as p}from"../RouteContainer/RouteContainer.js";const v=n=>Object.entries(n).map((([n,a])=>e.createElement(m,{name:"unverifiedAttr",value:n,key:n},((e,r)=>{const n=t(e);let a=r;if("Phone Number"===e)a=o(r);else if("Email"===e){const e=r.split("@");a=`${i(e[0])}@${e[1]}`}return`${n}: ${a}`})(r[n].label,a)))),E=({className:r,variation:o})=>{const{components:{VerifyUser:{Header:i=E.Header,Footer:a=E.Footer}}}=c(),{isPending:m,unverifiedContactMethods:h}=s((({isPending:e,unverifiedContactMethods:t})=>[e,t])),{handleChange:y,handleSubmit:F}=u(),b=m?e.createElement(e.Fragment,null,"Verifyingâ€¦"):e.createElement(e.Fragment,null,t("Verify")),g=e.createElement(l,{label:t("Verify Contact"),labelHidden:!0,name:"verify_context",isDisabled:m},v(h));return e.createElement(p,{className:r,variation:o},e.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-verifyuser":"",method:"post",onChange:y,onSubmit:F},e.createElement(n,{as:"fieldset",direction:"column",isDisabled:m},e.createElement(i,null),g,e.createElement(d,null),e.createElement(f,{cancelButtonText:t("Skip"),cancelButtonSendType:"SKIP",submitButtonText:b}),e.createElement(a,null))))};E.Header=function(){return e.createElement(a,{level:3},t("Account recovery requires verified contact information"))},E.Footer=function(){return null};export{E as VerifyUser};
