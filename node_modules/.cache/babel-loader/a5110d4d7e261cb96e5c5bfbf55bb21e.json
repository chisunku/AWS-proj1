{"ast":null,"code":"var _jsxFileName = \"/Users/sunku/Downloads/DropBucket-CMPE281-master/src/components/uploadFile.jsx\";\nimport React, { PureComponent } from 'react';\nimport { dataService } from '../services/dataService';\nimport '../myStyle.css';\nvar jwt = require('jsonwebtoken');\nclass uploadFile extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: [],\n      description: \"\",\n      res: \"\"\n    };\n    this.uploadFile = this.uploadFile.bind(this);\n  }\n  uploadFile() {\n    const userData = this.props.user;\n    console.log(`userData: ${userData}`);\n    const file = this.state.file;\n    console.log(\"file name \", file[0]);\n    if (file.length > 0) {\n      dataService.uploadFile(file[0], userData, this.state.description).then(json => {\n        console.log(json);\n        this.setState({\n          res: \"File Uploaded successfully\"\n        });\n        setTimeout(() => {\n          if (this.props.isAdmin) {\n            this.props.refreshList();\n          } else {\n            this.props.refreshList2(userData);\n          }\n        }, 500);\n      }).catch(reason => {\n        console.log(reason);\n        this.props.refreshList();\n      });\n    }\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }, \" File Upload: \", this.state.res, \" \"), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"other_buttons\",\n      type: \"file\",\n      onChange: e => this.setState({\n        file: e.target.file\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.desc,\n      onChange: e => this.setState({\n        description: e.target.value\n      }),\n      placeholder: \"descriptioniption\",\n      type: \"text\",\n      name: \"descriptioniption\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 24\n      }\n    }), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n      class: \"other_buttons\",\n      onClick: this.uploadFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }, \"Upload\")));\n  }\n}\nexport default uploadFile;","map":{"version":3,"names":["React","PureComponent","dataService","jwt","require","uploadFile","constructor","props","state","file","description","res","bind","userData","user","console","log","length","then","json","setState","setTimeout","isAdmin","refreshList","refreshList2","catch","reason","render","e","target","desc","value"],"sources":["/Users/sunku/Downloads/DropBucket-CMPE281-master/src/components/uploadFile.jsx"],"sourcesContent":["import React, { PureComponent } from 'react'\nimport { dataService } from '../services/dataService';\nimport '../myStyle.css'\nvar jwt = require('jsonwebtoken');\n\nclass uploadFile extends PureComponent {\n    constructor(props) {\n        super(props)\n        this.state = {\n            file: [],\n            description: \"\",\n            res: \"\"\n        }\n        this.uploadFile = this.uploadFile.bind(this);\n    }\n\n    uploadFile() {\n        const userData = this.props.user\n        console.log(`userData: ${userData}`);\n        const file = this.state.file;\n        console.log(\"file name \",file[0]);\n        if (file.length > 0) {\n            dataService.uploadFile(file[0], userData, this.state.description)\n                .then(json => {\n                    console.log(json);\n                    this.setState({\n                        res: \"File Uploaded successfully\"\n                    });\n                    setTimeout(()=> {\n                        if (this.props.isAdmin){\n                            this.props.refreshList();\n                        } else {\n                            this.props.refreshList2(userData);\n                        }\n                    }, 500);\n                })\n                .catch(reason => {\n                    console.log(reason);\n                    this.props.refreshList();\n                });\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                    <p> File Upload: {this.state.res} </p>\n                        <input class='other_buttons' type=\"file\" onChange={e => this.setState({\n                            file: e.target.file\n                        })}> \n                        </input>\n                       <a>\n                       <input\n                            value={this.state.desc}\n                            onChange={e => this.setState({\n                                description: e.target.value\n                            })}\n                            placeholder=\"descriptioniption\"\n                            type=\"text\"\n                            name=\"descriptioniption\"\n                        />\n                        &nbsp; &nbsp;\n                        <button class='other_buttons' onClick={this.uploadFile}>Upload</button>\n                       </a>\n\n            </div>\n        )\n    }\n}\n\nexport default uploadFile"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,QAAQ,OAAO;AAC5C,SAASC,WAAW,QAAQ,yBAAyB;AACrD,OAAO,gBAAgB;AACvB,IAAIC,GAAG,GAAGC,OAAO,CAAC,cAAc,CAAC;AAEjC,MAAMC,UAAU,SAASJ,aAAa,CAAC;EACnCK,WAAW,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MACTC,IAAI,EAAE,EAAE;MACRC,WAAW,EAAE,EAAE;MACfC,GAAG,EAAE;IACT,CAAC;IACD,IAAI,CAACN,UAAU,GAAG,IAAI,CAACA,UAAU,CAACO,IAAI,CAAC,IAAI,CAAC;EAChD;EAEAP,UAAU,GAAG;IACT,MAAMQ,QAAQ,GAAG,IAAI,CAACN,KAAK,CAACO,IAAI;IAChCC,OAAO,CAACC,GAAG,CAAE,aAAYH,QAAS,EAAC,CAAC;IACpC,MAAMJ,IAAI,GAAG,IAAI,CAACD,KAAK,CAACC,IAAI;IAC5BM,OAAO,CAACC,GAAG,CAAC,YAAY,EAACP,IAAI,CAAC,CAAC,CAAC,CAAC;IACjC,IAAIA,IAAI,CAACQ,MAAM,GAAG,CAAC,EAAE;MACjBf,WAAW,CAACG,UAAU,CAACI,IAAI,CAAC,CAAC,CAAC,EAAEI,QAAQ,EAAE,IAAI,CAACL,KAAK,CAACE,WAAW,CAAC,CAC5DQ,IAAI,CAACC,IAAI,IAAI;QACVJ,OAAO,CAACC,GAAG,CAACG,IAAI,CAAC;QACjB,IAAI,CAACC,QAAQ,CAAC;UACVT,GAAG,EAAE;QACT,CAAC,CAAC;QACFU,UAAU,CAAC,MAAK;UACZ,IAAI,IAAI,CAACd,KAAK,CAACe,OAAO,EAAC;YACnB,IAAI,CAACf,KAAK,CAACgB,WAAW,EAAE;UAC5B,CAAC,MAAM;YACH,IAAI,CAAChB,KAAK,CAACiB,YAAY,CAACX,QAAQ,CAAC;UACrC;QACJ,CAAC,EAAE,GAAG,CAAC;MACX,CAAC,CAAC,CACDY,KAAK,CAACC,MAAM,IAAI;QACbX,OAAO,CAACC,GAAG,CAACU,MAAM,CAAC;QACnB,IAAI,CAACnB,KAAK,CAACgB,WAAW,EAAE;MAC5B,CAAC,CAAC;IACV;EACJ;EAEAI,MAAM,GAAG;IACL,oBACI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACQ;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,qBAAkB,IAAI,CAACnB,KAAK,CAACG,GAAG,MAAM,eAClC;MAAO,KAAK,EAAC,eAAe;MAAC,IAAI,EAAC,MAAM;MAAC,QAAQ,EAAEiB,CAAC,IAAI,IAAI,CAACR,QAAQ,CAAC;QAClEX,IAAI,EAAEmB,CAAC,CAACC,MAAM,CAACpB;MACnB,CAAC,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EACK,eACT;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACA;MACK,KAAK,EAAE,IAAI,CAACD,KAAK,CAACsB,IAAK;MACvB,QAAQ,EAAEF,CAAC,IAAI,IAAI,CAACR,QAAQ,CAAC;QACzBV,WAAW,EAAEkB,CAAC,CAACC,MAAM,CAACE;MAC1B,CAAC,CAAE;MACH,WAAW,EAAC,mBAAmB;MAC/B,IAAI,EAAC,MAAM;MACX,IAAI,EAAC,mBAAmB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAC1B,4BAEF;MAAQ,KAAK,EAAC,eAAe;MAAC,OAAO,EAAE,IAAI,CAAC1B,UAAW;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,YAAgB,CACpE,CAET;EAEd;AACJ;AAEA,eAAeA,UAAU"},"metadata":{},"sourceType":"module"}