{"ast":null,"code":"import _classCallCheck from\"/Users/sunku/Downloads/frontend-dropbox-proj1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sunku/Downloads/frontend-dropbox-proj1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/sunku/Downloads/frontend-dropbox-proj1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/sunku/Downloads/frontend-dropbox-proj1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sunku/Downloads/frontend-dropbox-proj1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{PureComponent}from'react';import{dataService}from'../services/dataService';import'../myStyle.css';var jwt=require('jsonwebtoken');var UploadFile=/*#__PURE__*/function(_PureComponent){_inherits(UploadFile,_PureComponent);var _super=_createSuper(UploadFile);function UploadFile(props){var _this;_classCallCheck(this,UploadFile);_this=_super.call(this,props);_this.state={description:\"\",files:[],result:\"\"};_this.uploadFile=_this.uploadFile.bind(_assertThisInitialized(_this));return _this;}_createClass(UploadFile,[{key:\"uploadFile\",value:function uploadFile(){var _this2=this;var user=this.props.user;var files=this.state.files;if(files.length>0){dataService.upload_file(files[0],user,this.state.description).then(function(json){_this2.setState({result:\"File Uploaded successfully\"});setTimeout(function(){if(_this2.props.isAdmin){_this2.props.refreshList();}else{_this2.props.refreshList2(user);}},250);}).catch(function(e){console.log(e);_this2.props.refreshList();});}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\" File Upload Result: \",this.state.result,\" \"),/*#__PURE__*/React.createElement(\"input\",{class:\"other_buttons\",type:\"file\",onChange:function onChange(e){return _this3.setState({files:e.target.files});}}),\"\\xA0 \\xA0\",/*#__PURE__*/React.createElement(\"a\",null,/*#__PURE__*/React.createElement(\"input\",{value:this.state.desc,onChange:function onChange(e){return _this3.setState({description:e.target.value});},placeholder:\"Description\",type:\"text\",name:\"Description\"}),\"\\xA0 \\xA0\",/*#__PURE__*/React.createElement(\"button\",{class:\"other_buttons\",onClick:this.uploadFile},\"Upload\")));}}]);return UploadFile;}(PureComponent);export default UploadFile;","map":{"version":3,"names":["React","PureComponent","dataService","jwt","require","UploadFile","props","state","description","files","result","uploadFile","bind","user","length","upload_file","then","json","setState","setTimeout","isAdmin","refreshList","refreshList2","catch","e","console","log","target","desc","value"],"sources":["/Users/sunku/Downloads/frontend-dropbox-proj1/src/components/UploadFile.jsx"],"sourcesContent":["import React, { PureComponent } from 'react'\nimport { dataService } from '../services/dataService';\nimport '../myStyle.css'\nvar jwt = require('jsonwebtoken');\n\nclass UploadFile extends PureComponent {\n    constructor(props) {\n        super(props)\n        this.state = {\n            description: \"\",\n            files: [],\n            result: \"\"\n        }\n        this.uploadFile = this.uploadFile.bind(this);\n    }\n    uploadFile() {\n        const user = this.props.user\n        const files = this.state.files;\n        if (files.length > 0) {\n            dataService.upload_file(files[0], user, this.state.description)\n                .then(json => {\n                    this.setState({\n                        result: \"File Uploaded successfully\"\n                    });\n                    setTimeout(()=> {\n                        if (this.props.isAdmin){\n                            this.props.refreshList();\n                        } else {\n                            this.props.refreshList2(user);\n                        }\n                    }, 250);\n                })\n                .catch(e => {\n                    console.log(e);\n                    this.props.refreshList();\n                });\n        }\n    }\n    render() {\n        return (\n            <div>\n                    <p> File Upload Result: {this.state.result} </p>\n                        <input class='other_buttons' type=\"file\" onChange={e => this.setState({\n                            files: e.target.files\n                        })}>\n                        </input>\n                        &nbsp; &nbsp;\n                       <a>\n                       <input\n                            value={this.state.desc}\n                            onChange={e => this.setState({\n                                description: e.target.value\n                            })}\n                            placeholder=\"Description\"\n                            type=\"text\"\n                            name=\"Description\"\n                        />\n                        &nbsp; &nbsp;\n                        <button class='other_buttons' onClick={this.uploadFile}>Upload</button>\n                       </a>\n\n            </div>\n        )\n    }\n}\n\nexport default UploadFile"],"mappings":"ozBAAA,MAAOA,MAAK,EAAIC,aAAa,KAAQ,OAAO,CAC5C,OAASC,WAAW,KAAQ,yBAAyB,CACrD,MAAO,gBAAgB,CACvB,GAAIC,IAAG,CAAGC,OAAO,CAAC,cAAc,CAAC,CAAC,GAE5BC,WAAU,gHACZ,oBAAYC,KAAK,CAAE,4CACf,uBAAMA,KAAK,EACX,MAAKC,KAAK,CAAG,CACTC,WAAW,CAAE,EAAE,CACfC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE,EACZ,CAAC,CACD,MAAKC,UAAU,CAAG,MAAKA,UAAU,CAACC,IAAI,+BAAM,CAAC,aACjD,CAAC,iDACD,qBAAa,iBACT,GAAMC,KAAI,CAAG,IAAI,CAACP,KAAK,CAACO,IAAI,CAC5B,GAAMJ,MAAK,CAAG,IAAI,CAACF,KAAK,CAACE,KAAK,CAC9B,GAAIA,KAAK,CAACK,MAAM,CAAG,CAAC,CAAE,CAClBZ,WAAW,CAACa,WAAW,CAACN,KAAK,CAAC,CAAC,CAAC,CAAEI,IAAI,CAAE,IAAI,CAACN,KAAK,CAACC,WAAW,CAAC,CAC1DQ,IAAI,CAAC,SAAAC,IAAI,CAAI,CACV,MAAI,CAACC,QAAQ,CAAC,CACVR,MAAM,CAAE,4BACZ,CAAC,CAAC,CACFS,UAAU,CAAC,UAAK,CACZ,GAAI,MAAI,CAACb,KAAK,CAACc,OAAO,CAAC,CACnB,MAAI,CAACd,KAAK,CAACe,WAAW,EAAE,CAC5B,CAAC,IAAM,CACH,MAAI,CAACf,KAAK,CAACgB,YAAY,CAACT,IAAI,CAAC,CACjC,CACJ,CAAC,CAAE,GAAG,CAAC,CACX,CAAC,CAAC,CACDU,KAAK,CAAC,SAAAC,CAAC,CAAI,CACRC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC,CACd,MAAI,CAAClB,KAAK,CAACe,WAAW,EAAE,CAC5B,CAAC,CAAC,CACV,CACJ,CAAC,sBACD,iBAAS,iBACL,mBACI,4CACQ,qDAAyB,IAAI,CAACd,KAAK,CAACG,MAAM,KAAM,cAC5C,6BAAO,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAE,kBAAAc,CAAC,QAAI,OAAI,CAACN,QAAQ,CAAC,CAClET,KAAK,CAAEe,CAAC,CAACG,MAAM,CAAClB,KACpB,CAAC,CAAC,EAAC,EACK,0BAET,0CACA,6BACK,KAAK,CAAE,IAAI,CAACF,KAAK,CAACqB,IAAK,CACvB,QAAQ,CAAE,kBAAAJ,CAAC,QAAI,OAAI,CAACN,QAAQ,CAAC,CACzBV,WAAW,CAAEgB,CAAC,CAACG,MAAM,CAACE,KAC1B,CAAC,CAAC,EAAC,CACH,WAAW,CAAC,aAAa,CACzB,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,aAAa,EACpB,0BAEF,8BAAQ,KAAK,CAAC,eAAe,CAAC,OAAO,CAAE,IAAI,CAAClB,UAAW,WAAgB,CACpE,CAET,CAEd,CAAC,wBA1DoBV,aAAa,EA6DtC,cAAeI,WAAU"},"metadata":{},"sourceType":"module"}