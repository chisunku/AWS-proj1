{"ast":null,"code":"var _jsxFileName = \"/Users/sunku/Downloads/DropBucket-CMPE281-master/src/components/uploadFile.jsx\";\nimport React, { PureComponent } from 'react';\nimport { dataService } from '../services/dataService';\nimport '../myStyle.css';\nvar jwt = require('jsonwebtoken');\nclass FileUpload extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      files: [],\n      descr: \"\",\n      result: \"\"\n    };\n    this.uploadFile = this.uploadFile.bind(this);\n  }\n  uploadFile() {\n    const userData = this.props.user;\n    console.log(`userData: ${userData}`);\n    const files = this.state.files;\n    console.log(\"file name \", files[0]);\n    if (files.length > 0) {\n      dataService.uploadFile(files[0], userData, this.state.descr).then(json => {\n        console.log(json);\n        this.setState({\n          result: \"File Uploaded successfully\"\n        });\n        setTimeout(() => {\n          if (this.props.isAdmin) {\n            this.props.refreshList();\n          } else {\n            this.props.refreshList2(userData);\n          }\n        }, 500);\n      }).catch(reason => {\n        console.log(reason);\n        this.props.refreshList();\n      });\n    }\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    }, \" File Upload Result: \", this.state.result, \" \"), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"other_buttons\",\n      type: \"file\",\n      onChange: e => this.setState({\n        files: e.target.files\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.desc,\n      onChange: e => this.setState({\n        descr: e.target.value\n      }),\n      placeholder: \"Description\",\n      type: \"text\",\n      name: \"Description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 24\n      }\n    }), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n      class: \"other_buttons\",\n      onClick: this.uploadFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, \"Upload\")));\n  }\n}\nexport default FileUpload;","map":{"version":3,"names":["React","PureComponent","dataService","jwt","require","FileUpload","constructor","props","state","files","descr","result","uploadFile","bind","userData","user","console","log","length","then","json","setState","setTimeout","isAdmin","refreshList","refreshList2","catch","reason","render","e","target","desc","value"],"sources":["/Users/sunku/Downloads/DropBucket-CMPE281-master/src/components/uploadFile.jsx"],"sourcesContent":["import React, { PureComponent } from 'react'\nimport { dataService } from '../services/dataService';\nimport '../myStyle.css'\nvar jwt = require('jsonwebtoken');\n\nclass FileUpload extends PureComponent {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            files: [],\n            descr: \"\",\n            result: \"\"\n        }\n        this.uploadFile = this.uploadFile.bind(this);\n    }\n\n    uploadFile() {\n        const userData = this.props.user\n        console.log(`userData: ${userData}`);\n        const files = this.state.files;\n        console.log(\"file name \",files[0]);\n        if (files.length > 0) {\n            dataService.uploadFile(files[0], userData, this.state.descr)\n                .then(json => {\n                    console.log(json);\n                    this.setState({\n                        result: \"File Uploaded successfully\"\n                    });\n                    setTimeout(()=> {\n                        if (this.props.isAdmin){\n                            this.props.refreshList();\n                        } else {\n                            this.props.refreshList2(userData);\n                        }\n                    }, 500);\n                })\n                .catch(reason => {\n                    console.log(reason);\n                    this.props.refreshList();\n                });\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                    <p> File Upload Result: {this.state.result} </p>\n                        <input class='other_buttons' type=\"file\" onChange={e => this.setState({\n                            files: e.target.files\n                        })}> \n                        </input>\n                       <a>\n                       <input\n                            value={this.state.desc}\n                            onChange={e => this.setState({\n                                descr: e.target.value\n                            })}\n                            placeholder=\"Description\"\n                            type=\"text\"\n                            name=\"Description\"\n                        />\n                        &nbsp; &nbsp;\n                        <button class='other_buttons' onClick={this.uploadFile}>Upload</button>\n                       </a>\n\n            </div>\n        )\n    }\n}\n\nexport default FileUpload"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,QAAQ,OAAO;AAC5C,SAASC,WAAW,QAAQ,yBAAyB;AACrD,OAAO,gBAAgB;AACvB,IAAIC,GAAG,GAAGC,OAAO,CAAC,cAAc,CAAC;AAEjC,MAAMC,UAAU,SAASJ,aAAa,CAAC;EACnCK,WAAW,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IAEZ,IAAI,CAACC,KAAK,GAAG;MACTC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE;IACZ,CAAC;IACD,IAAI,CAACC,UAAU,GAAG,IAAI,CAACA,UAAU,CAACC,IAAI,CAAC,IAAI,CAAC;EAChD;EAEAD,UAAU,GAAG;IACT,MAAME,QAAQ,GAAG,IAAI,CAACP,KAAK,CAACQ,IAAI;IAChCC,OAAO,CAACC,GAAG,CAAE,aAAYH,QAAS,EAAC,CAAC;IACpC,MAAML,KAAK,GAAG,IAAI,CAACD,KAAK,CAACC,KAAK;IAC9BO,OAAO,CAACC,GAAG,CAAC,YAAY,EAACR,KAAK,CAAC,CAAC,CAAC,CAAC;IAClC,IAAIA,KAAK,CAACS,MAAM,GAAG,CAAC,EAAE;MAClBhB,WAAW,CAACU,UAAU,CAACH,KAAK,CAAC,CAAC,CAAC,EAAEK,QAAQ,EAAE,IAAI,CAACN,KAAK,CAACE,KAAK,CAAC,CACvDS,IAAI,CAACC,IAAI,IAAI;QACVJ,OAAO,CAACC,GAAG,CAACG,IAAI,CAAC;QACjB,IAAI,CAACC,QAAQ,CAAC;UACVV,MAAM,EAAE;QACZ,CAAC,CAAC;QACFW,UAAU,CAAC,MAAK;UACZ,IAAI,IAAI,CAACf,KAAK,CAACgB,OAAO,EAAC;YACnB,IAAI,CAAChB,KAAK,CAACiB,WAAW,EAAE;UAC5B,CAAC,MAAM;YACH,IAAI,CAACjB,KAAK,CAACkB,YAAY,CAACX,QAAQ,CAAC;UACrC;QACJ,CAAC,EAAE,GAAG,CAAC;MACX,CAAC,CAAC,CACDY,KAAK,CAACC,MAAM,IAAI;QACbX,OAAO,CAACC,GAAG,CAACU,MAAM,CAAC;QACnB,IAAI,CAACpB,KAAK,CAACiB,WAAW,EAAE;MAC5B,CAAC,CAAC;IACV;EACJ;EAEAI,MAAM,GAAG;IACL,oBACI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACQ;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,4BAAyB,IAAI,CAACpB,KAAK,CAACG,MAAM,MAAM,eAC5C;MAAO,KAAK,EAAC,eAAe;MAAC,IAAI,EAAC,MAAM;MAAC,QAAQ,EAAEkB,CAAC,IAAI,IAAI,CAACR,QAAQ,CAAC;QAClEZ,KAAK,EAAEoB,CAAC,CAACC,MAAM,CAACrB;MACpB,CAAC,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EACK,eACT;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACA;MACK,KAAK,EAAE,IAAI,CAACD,KAAK,CAACuB,IAAK;MACvB,QAAQ,EAAEF,CAAC,IAAI,IAAI,CAACR,QAAQ,CAAC;QACzBX,KAAK,EAAEmB,CAAC,CAACC,MAAM,CAACE;MACpB,CAAC,CAAE;MACH,WAAW,EAAC,aAAa;MACzB,IAAI,EAAC,MAAM;MACX,IAAI,EAAC,aAAa;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EACpB,4BAEF;MAAQ,KAAK,EAAC,eAAe;MAAC,OAAO,EAAE,IAAI,CAACpB,UAAW;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,YAAgB,CACpE,CAET;EAEd;AACJ;AAEA,eAAeP,UAAU"},"metadata":{},"sourceType":"module"}