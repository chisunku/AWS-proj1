{"ast":null,"code":"var _jsxFileName = \"/Users/sunku/Downloads/DropBucket-CMPE281-master/src/components/Accounts.js\";\nimport React, { createContext } from 'react';\nimport { CognitoUser, AuthenticationDetails } from 'amazon-cognito-identity-js';\nimport Pool from '../UserPool';\nconst AccountContext = createContext();\nconst Account = props => {\n  const getSession = async () => await new Promise((resolve, reject) => {\n    const user = Pool.getCurrentUser();\n    if (user) {\n      user.getSession((err, session) => {\n        if (err) {\n          reject();\n        } else {\n          resolve(session);\n        }\n      });\n    } else {\n      reject();\n    }\n  });\n  const authenticate = async (Username, Password) => await new Promise((resolve, reject) => {\n    const user = new CognitoUser({\n      Username,\n      Pool\n    });\n    const authDetails = new AuthenticationDetails({\n      Username,\n      Password\n    });\n    user.authenticateUser(authDetails, {\n      onSuccess: data => {\n        console.log('onSuccess:', data);\n        resolve(data);\n      },\n      onFailure: err => {\n        console.error('onFailure:', err);\n        reject(err);\n      },\n      newPasswordRequired: data => {\n        console.log('newPasswordRequired:', data);\n        resolve(data);\n      }\n    });\n  });\n  const logout = () => {\n    const user = Pool.getCurrentUser();\n    if (user) {\n      user.signOut();\n    }\n  };\n  return /*#__PURE__*/React.createElement(AccountContext.Provider, {\n    value: {\n      authenticate,\n      getSession,\n      logout\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, props.children);\n};\nexport { Account, AccountContext };","map":{"version":3,"names":["React","createContext","CognitoUser","AuthenticationDetails","Pool","AccountContext","Account","props","getSession","Promise","resolve","reject","user","getCurrentUser","err","session","authenticate","Username","Password","authDetails","authenticateUser","onSuccess","data","console","log","onFailure","error","newPasswordRequired","logout","signOut","children"],"sources":["/Users/sunku/Downloads/DropBucket-CMPE281-master/src/components/Accounts.js"],"sourcesContent":["import React, { createContext } from 'react';\nimport { CognitoUser, AuthenticationDetails } from 'amazon-cognito-identity-js';\nimport Pool from '../UserPool';\n\nconst AccountContext = createContext();\n\nconst Account = props => {\n  const getSession = async () =>\n    await new Promise((resolve, reject) => {\n      const user = Pool.getCurrentUser();\n      if (user) {\n        user.getSession((err, session) => {\n          if (err) {\n            reject();\n          } else {\n            resolve(session);\n          }\n        });\n      } else {\n        reject();\n      }\n    });\n\n  const authenticate = async (Username, Password) =>\n    await new Promise((resolve, reject) => {\n      const user = new CognitoUser({ Username, Pool });\n      const authDetails = new AuthenticationDetails({ Username, Password });\n\n      user.authenticateUser(authDetails, {\n        onSuccess: data => {\n          console.log('onSuccess:', data);\n          resolve(data);\n        },\n\n        onFailure: err => {\n          console.error('onFailure:', err);\n          reject(err);\n        },\n\n        newPasswordRequired: data => {\n          console.log('newPasswordRequired:', data);\n          resolve(data);\n        }\n      });\n    });\n\n  const logout = () => {\n    const user = Pool.getCurrentUser();\n    if (user) {\n      user.signOut();\n    }\n  }\n\n  return (\n    <AccountContext.Provider value={{\n      authenticate,\n      getSession,\n      logout\n    }}>\n      {props.children}\n    </AccountContext.Provider>\n  );\n};\n\nexport { Account, AccountContext };"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,QAAQ,OAAO;AAC5C,SAASC,WAAW,EAAEC,qBAAqB,QAAQ,4BAA4B;AAC/E,OAAOC,IAAI,MAAM,aAAa;AAE9B,MAAMC,cAAc,GAAGJ,aAAa,EAAE;AAEtC,MAAMK,OAAO,GAAGC,KAAK,IAAI;EACvB,MAAMC,UAAU,GAAG,YACjB,MAAM,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACrC,MAAMC,IAAI,GAAGR,IAAI,CAACS,cAAc,EAAE;IAClC,IAAID,IAAI,EAAE;MACRA,IAAI,CAACJ,UAAU,CAAC,CAACM,GAAG,EAAEC,OAAO,KAAK;QAChC,IAAID,GAAG,EAAE;UACPH,MAAM,EAAE;QACV,CAAC,MAAM;UACLD,OAAO,CAACK,OAAO,CAAC;QAClB;MACF,CAAC,CAAC;IACJ,CAAC,MAAM;MACLJ,MAAM,EAAE;IACV;EACF,CAAC,CAAC;EAEJ,MAAMK,YAAY,GAAG,OAAOC,QAAQ,EAAEC,QAAQ,KAC5C,MAAM,IAAIT,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACrC,MAAMC,IAAI,GAAG,IAAIV,WAAW,CAAC;MAAEe,QAAQ;MAAEb;IAAK,CAAC,CAAC;IAChD,MAAMe,WAAW,GAAG,IAAIhB,qBAAqB,CAAC;MAAEc,QAAQ;MAAEC;IAAS,CAAC,CAAC;IAErEN,IAAI,CAACQ,gBAAgB,CAACD,WAAW,EAAE;MACjCE,SAAS,EAAEC,IAAI,IAAI;QACjBC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEF,IAAI,CAAC;QAC/BZ,OAAO,CAACY,IAAI,CAAC;MACf,CAAC;MAEDG,SAAS,EAAEX,GAAG,IAAI;QAChBS,OAAO,CAACG,KAAK,CAAC,YAAY,EAAEZ,GAAG,CAAC;QAChCH,MAAM,CAACG,GAAG,CAAC;MACb,CAAC;MAEDa,mBAAmB,EAAEL,IAAI,IAAI;QAC3BC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEF,IAAI,CAAC;QACzCZ,OAAO,CAACY,IAAI,CAAC;MACf;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EAEJ,MAAMM,MAAM,GAAG,MAAM;IACnB,MAAMhB,IAAI,GAAGR,IAAI,CAACS,cAAc,EAAE;IAClC,IAAID,IAAI,EAAE;MACRA,IAAI,CAACiB,OAAO,EAAE;IAChB;EACF,CAAC;EAED,oBACE,oBAAC,cAAc,CAAC,QAAQ;IAAC,KAAK,EAAE;MAC9Bb,YAAY;MACZR,UAAU;MACVoB;IACF,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACCrB,KAAK,CAACuB,QAAQ,CACS;AAE9B,CAAC;AAED,SAASxB,OAAO,EAAED,cAAc"},"metadata":{},"sourceType":"module"}