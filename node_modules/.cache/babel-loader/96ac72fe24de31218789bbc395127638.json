{"ast":null,"code":"var _jsxFileName = \"/Users/sunku/Downloads/DropBucket-CMPE281-master/src/components/uploadFile.jsx\";\nimport React, { PureComponent } from 'react';\nimport { dataService } from '../services/dataService';\nimport '../myStyle.css';\nvar jwt = require('jsonwebtoken');\nclass FileUpload extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      description: \"\",\n      files: [],\n      result: \"\"\n    };\n    this.uploadFile = this.uploadFile.bind(this);\n  }\n  uploadFile() {\n    const user = this.props.user;\n    const files = this.state.files;\n    if (files.length > 0) {\n      dataService.uploadFile(files[0], user, this.state.description).then(json => {\n        this.setState({\n          result: \"File Uploaded successfully\"\n        });\n        setTimeout(() => {\n          if (this.props.isAdmin) {\n            this.props.refreshList();\n          } else {\n            this.props.refreshList2(user);\n          }\n        }, 250);\n      }).catch(e => {\n        console.log(e);\n        this.props.refreshList();\n      });\n    }\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }, \" File Upload Result: \", this.state.result, \" \"), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"other_buttons\",\n      type: \"file\",\n      onChange: e => this.setState({\n        files: e.target.files\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }\n    }), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.desc,\n      onChange: e => this.setState({\n        descr: e.target.value\n      }),\n      placeholder: \"Description\",\n      type: \"text\",\n      name: \"Description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 24\n      }\n    }), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.uploadFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }, \"Upload\")));\n  }\n}\nexport default FileUpload;","map":{"version":3,"names":["React","PureComponent","dataService","jwt","require","FileUpload","constructor","props","state","description","files","result","uploadFile","bind","user","length","then","json","setState","setTimeout","isAdmin","refreshList","refreshList2","catch","e","console","log","render","target","desc","descr","value"],"sources":["/Users/sunku/Downloads/DropBucket-CMPE281-master/src/components/uploadFile.jsx"],"sourcesContent":["import React, { PureComponent } from 'react'\nimport { dataService } from '../services/dataService';\nimport '../myStyle.css'\nvar jwt = require('jsonwebtoken');\n\nclass FileUpload extends PureComponent {\n    constructor(props) {\n        super(props)\n        this.state = {\n            description: \"\",\n            files: [],\n            result: \"\"\n        }\n        this.uploadFile = this.uploadFile.bind(this);\n    }\n    uploadFile() {\n        const user = this.props.user\n        const files = this.state.files;\n        if (files.length > 0) {\n            dataService.uploadFile(files[0], user, this.state.description)\n                .then(json => {\n                    this.setState({\n                        result: \"File Uploaded successfully\"\n                    });\n                    setTimeout(()=> {\n                        if (this.props.isAdmin){\n                            this.props.refreshList();\n                        } else {\n                            this.props.refreshList2(user);\n                        }\n                    }, 250);\n                })\n                .catch(e => {\n                    console.log(e);\n                    this.props.refreshList();\n                });\n        }\n    }\n    render() {\n        return (\n            <div>\n                    <p> File Upload Result: {this.state.result} </p>\n                        <input class='other_buttons' type=\"file\" onChange={e => this.setState({\n                            files: e.target.files\n                        })}>\n                        </input>\n                        &nbsp; &nbsp;\n                       <a>\n                       <input\n                            value={this.state.desc}\n                            onChange={e => this.setState({\n                                descr: e.target.value\n                            })}\n                            placeholder=\"Description\"\n                            type=\"text\"\n                            name=\"Description\"\n                        />\n                        &nbsp; &nbsp;\n                        <button onClick={this.uploadFile}>Upload</button>\n                       </a>\n\n            </div>\n        )\n    }\n}\n\nexport default FileUpload"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,QAAQ,OAAO;AAC5C,SAASC,WAAW,QAAQ,yBAAyB;AACrD,OAAO,gBAAgB;AACvB,IAAIC,GAAG,GAAGC,OAAO,CAAC,cAAc,CAAC;AAEjC,MAAMC,UAAU,SAASJ,aAAa,CAAC;EACnCK,WAAW,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MACTC,WAAW,EAAE,EAAE;MACfC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE;IACZ,CAAC;IACD,IAAI,CAACC,UAAU,GAAG,IAAI,CAACA,UAAU,CAACC,IAAI,CAAC,IAAI,CAAC;EAChD;EACAD,UAAU,GAAG;IACT,MAAME,IAAI,GAAG,IAAI,CAACP,KAAK,CAACO,IAAI;IAC5B,MAAMJ,KAAK,GAAG,IAAI,CAACF,KAAK,CAACE,KAAK;IAC9B,IAAIA,KAAK,CAACK,MAAM,GAAG,CAAC,EAAE;MAClBb,WAAW,CAACU,UAAU,CAACF,KAAK,CAAC,CAAC,CAAC,EAAEI,IAAI,EAAE,IAAI,CAACN,KAAK,CAACC,WAAW,CAAC,CACzDO,IAAI,CAACC,IAAI,IAAI;QACV,IAAI,CAACC,QAAQ,CAAC;UACVP,MAAM,EAAE;QACZ,CAAC,CAAC;QACFQ,UAAU,CAAC,MAAK;UACZ,IAAI,IAAI,CAACZ,KAAK,CAACa,OAAO,EAAC;YACnB,IAAI,CAACb,KAAK,CAACc,WAAW,EAAE;UAC5B,CAAC,MAAM;YACH,IAAI,CAACd,KAAK,CAACe,YAAY,CAACR,IAAI,CAAC;UACjC;QACJ,CAAC,EAAE,GAAG,CAAC;MACX,CAAC,CAAC,CACDS,KAAK,CAACC,CAAC,IAAI;QACRC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;QACd,IAAI,CAACjB,KAAK,CAACc,WAAW,EAAE;MAC5B,CAAC,CAAC;IACV;EACJ;EACAM,MAAM,GAAG;IACL,oBACI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACQ;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,4BAAyB,IAAI,CAACnB,KAAK,CAACG,MAAM,MAAM,eAC5C;MAAO,KAAK,EAAC,eAAe;MAAC,IAAI,EAAC,MAAM;MAAC,QAAQ,EAAEa,CAAC,IAAI,IAAI,CAACN,QAAQ,CAAC;QAClER,KAAK,EAAEc,CAAC,CAACI,MAAM,CAAClB;MACpB,CAAC,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EACK,4BAET;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACA;MACK,KAAK,EAAE,IAAI,CAACF,KAAK,CAACqB,IAAK;MACvB,QAAQ,EAAEL,CAAC,IAAI,IAAI,CAACN,QAAQ,CAAC;QACzBY,KAAK,EAAEN,CAAC,CAACI,MAAM,CAACG;MACpB,CAAC,CAAE;MACH,WAAW,EAAC,aAAa;MACzB,IAAI,EAAC,MAAM;MACX,IAAI,EAAC,aAAa;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EACpB,4BAEF;MAAQ,OAAO,EAAE,IAAI,CAACnB,UAAW;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,YAAgB,CAC9C,CAET;EAEd;AACJ;AAEA,eAAeP,UAAU"},"metadata":{},"sourceType":"module"}