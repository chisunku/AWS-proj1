{"ast":null,"code":"var _jsxFileName = \"/Users/sunku/Downloads/DropBucket-CMPE281-master/src/components/FileUpload.jsx\";\nimport React, { PureComponent } from 'react';\n//import { useDropzone } from 'react-dropzone'\nimport { dataService } from '../services/dataService';\nimport { Card, Button } from 'react-bootstrap';\nvar jwt = require('jsonwebtoken');\n// rfc\nconst inputFileButton = {\n  marginLeft: \"20px\",\n  backgroundColor: \"#4CAF50\",\n  border: \"none\",\n  color: \"white\",\n  margin: \"4px 2px\",\n  cursor: \"pointer\"\n};\nclass FileUpload extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      files: [],\n      descr: \"\",\n      result: \"\"\n    };\n    this.uploadFile = this.uploadFile.bind(this);\n  }\n  uploadFile() {\n    const userData = this.props.user;\n    console.log(`userData: ${userData}`);\n    const files = this.state.files;\n    Console.log(\"file name \", files[0]);\n    if (files.length > 0) {\n      dataService.uploadFile(files[0], userData, this.state.descr).then(json => {\n        console.log(json);\n        this.setState({\n          result: \"File Uploaded successfully\"\n        });\n        setTimeout(() => {\n          if (this.props.isAdmin) {\n            this.props.refreshList();\n          } else {\n            this.props.refreshList2(userData);\n          }\n        }, 500);\n      }).catch(reason => {\n        console.log(reason);\n        this.props.refreshList();\n      });\n    }\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"text-center\",\n      style: {\n        margin: '5rem 10rem 2rem 10rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, \" File Upload Result: \", this.state.result, \" \"), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      style: {\n        \"marginLeft\": \"20px\"\n      },\n      onChange: e => this.setState({\n        files: e.target.files\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        \"marginLeft\": \"40px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.desc,\n      onChange: e => this.setState({\n        descr: e.target.value\n      }),\n      placeholder: \"Description\",\n      type: \"text\",\n      name: \"Description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 24\n      }\n    }), \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(Button, {\n      onClick: this.uploadFile,\n      style: {\n        \"padding\": \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }, \"Upload\")))));\n  }\n}\nexport default FileUpload;","map":{"version":3,"names":["React","PureComponent","dataService","Card","Button","jwt","require","inputFileButton","marginLeft","backgroundColor","border","color","margin","cursor","FileUpload","constructor","props","state","files","descr","result","uploadFile","bind","userData","user","console","log","Console","length","then","json","setState","setTimeout","isAdmin","refreshList","refreshList2","catch","reason","render","e","target","desc","value"],"sources":["/Users/sunku/Downloads/DropBucket-CMPE281-master/src/components/FileUpload.jsx"],"sourcesContent":["import React, { PureComponent } from 'react'\n//import { useDropzone } from 'react-dropzone'\nimport { dataService } from '../services/dataService';\nimport { Card, Button } from 'react-bootstrap';\nvar jwt = require('jsonwebtoken');\n// rfc\nconst inputFileButton = {\n    marginLeft: \"20px\",\n    backgroundColor: \"#4CAF50\",\n    border: \"none\",\n    color: \"white\",\n    margin: \"4px 2px\",\n    cursor: \"pointer\",\n}\n\nclass FileUpload extends PureComponent {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            files: [],\n            descr: \"\",\n            result: \"\"\n        }\n        this.uploadFile = this.uploadFile.bind(this);\n    }\n\n    uploadFile() {\n        const userData = this.props.user\n        console.log(`userData: ${userData}`);\n        const files = this.state.files;\n        Console.log(\"file name \",files[0]);\n        if (files.length > 0) {\n            dataService.uploadFile(files[0], userData, this.state.descr)\n                .then(json => {\n                    console.log(json);\n                    this.setState({\n                        result: \"File Uploaded successfully\"\n                    });\n                    setTimeout(()=> {\n                        if (this.props.isAdmin){\n                            this.props.refreshList();\n                        } else {\n                            this.props.refreshList2(userData);\n                        }\n                    }, 500);\n                })\n                .catch(reason => {\n                    console.log(reason);\n                    this.props.refreshList();\n                });\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <Card className=\"text-center\" style={{ margin: '5rem 10rem 2rem 10rem'}} >\n                    <Card.Header> File Upload Result: {this.state.result} </Card.Header>\n                    <Card.Body>\n                        <input type=\"file\" style={{\"marginLeft\": \"20px\"}} onChange={e => this.setState({\n                            files: e.target.files\n                        })}> \n                        </input>\n                       <a  style={{\"marginLeft\": \"40px\"}}> \n                       <input\n                            value={this.state.desc}\n                            onChange={e => this.setState({\n                                descr: e.target.value\n                            })}\n                            placeholder=\"Description\"\n                            type=\"text\"\n                            name=\"Description\"\n                        />\n                        &nbsp; &nbsp;\n                        <Button onClick={this.uploadFile} style={{\"padding\": \"5px\"}}>Upload</Button>\n                       </a>\n\n                    </Card.Body>\n                </Card>\n\n            </div>\n        )\n    }\n}\n\nexport default FileUpload"],"mappings":"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"},"metadata":{},"sourceType":"module"}