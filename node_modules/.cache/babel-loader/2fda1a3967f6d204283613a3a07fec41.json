{"ast":null,"code":"var geojsonCoords = require('@mapbox/geojson-coords'),\n  traverse = require('traverse'),\n  extent = require('@mapbox/extent');\nvar geojsonTypesByDataAttributes = {\n  features: ['FeatureCollection'],\n  coordinates: ['Point', 'MultiPoint', 'LineString', 'MultiLineString', 'Polygon', 'MultiPolygon'],\n  geometry: ['Feature'],\n  geometries: ['GeometryCollection']\n};\nvar dataAttributes = Object.keys(geojsonTypesByDataAttributes);\nmodule.exports = function (_) {\n  return getExtent(_).bbox();\n};\nmodule.exports.polygon = function (_) {\n  return getExtent(_).polygon();\n};\nmodule.exports.bboxify = function (_) {\n  return traverse(_).map(function (value) {\n    if (!value) return;\n    var isValid = dataAttributes.some(function (attribute) {\n      if (value[attribute]) {\n        return geojsonTypesByDataAttributes[attribute].indexOf(value.type) !== -1;\n      }\n      return false;\n    });\n    if (isValid) {\n      value.bbox = getExtent(value).bbox();\n      this.update(value);\n    }\n  });\n};\nfunction getExtent(_) {\n  var ext = extent(),\n    coords = geojsonCoords(_);\n  for (var i = 0; i < coords.length; i++) ext.include(coords[i]);\n  return ext;\n}","map":null,"metadata":{},"sourceType":"script"}