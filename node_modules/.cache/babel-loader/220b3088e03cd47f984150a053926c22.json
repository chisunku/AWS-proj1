{"ast":null,"code":"var _jsxFileName = \"/Users/sunku/Downloads/DropBucket-CMPE281-master/src/components/homePage.jsx\";\nimport React, { PureComponent } from 'react';\nimport { saveAs } from \"file-saver\";\nimport { dataService } from '../services/dataService';\nimport UploadFile from './uploadFile';\nimport LogOut from './LogOut';\nimport LogInPage from './login';\nimport '../myStyle.css';\nvar jwt = require('jsonwebtoken');\nclass UserPage extends PureComponent {\n  constructor(props) {\n    super(props);\n    const sessionToken = sessionStorage.getItem(\"token\");\n    // JWT DECODE\n    // Store decoded jwt in session storage\n\n    this.state = {\n      userDataDynamo: [],\n      userData: undefined,\n      desc: \"\",\n      isAdmin: false\n    };\n    this.setDescription = this.setDescription.bind(this);\n    this.updateTable = this.updateTable.bind(this);\n  }\n  setDescription(d) {\n    this.setState({\n      desc: d\n    });\n  }\n  updateTable2(user, user_admin) {\n    console.log(\"Called Update Table\");\n    var boll = false;\n    if (user_admin == true) boll = true;\n    dataService.getUserData(user, boll).then(json => {\n      console.log(json);\n      if (Array.isArray(json)) {\n        this.setState({\n          userDataDynamo: json\n        });\n      }\n    }).catch(reason => {\n      console.log(\"Failed to fetch data from server, reason is : \", reason);\n    });\n  }\n  updateTable(user) {\n    console.log(\"Called Update Table\");\n    dataService.getUserData(user, true).then(json => {\n      console.log(json);\n      if (Array.isArray(json)) {\n        this.setState({\n          userDataDynamo: json\n        });\n      }\n    }).catch(reason => {\n      console.log(\"Failed to fetch data from server, reason is : \", reason);\n    });\n  }\n\n  //     async getUserInfo() {\n  //       const user = await Auth.currentAuthenticatedUser();\n  //       console.log('attributes:', user.attributes);\n  //     }\n\n  componentDidMount() {\n    //         this.getUserInfo();\n\n    var token = sessionStorage.getItem(\"token\");\n    console.log(\"token \", token);\n    try {\n      const payload = this.verifier.verify(token);\n      console.log(\"Token is valid. Payload:\", payload);\n    } catch {\n      console.log(\"Token not valid!\");\n    }\n    var decoded = jwt.decode(token);\n    let buff = new Buffer(token, 'base64');\n    let base64ToStringNew = buff.toString('ascii');\n    console.log(\"base64 string: \", base64ToStringNew);\n    // get the decoded payload and header\n    var decoded = jwt.decode(token, {\n      complete: true\n    });\n    console.log(\"decoded header: \", decoded.header);\n    console.log(\"payload: \", decoded.payload);\n    const userObj = decoded.payload;\n    this.setState({\n      userData: userObj\n    });\n    const isAdmin = userObj && userObj[\"cognito:groups\"] && userObj[\"cognito:groups\"].filter(g => g == \"admin\").length > 0;\n    //            const admin = false;\n    //            if(this.state.userData.email==\"2712aabbccdd@gmail.com\"){\n    //             admin = true;\n    //            }\n    this.setState({\n      isAdmin\n    });\n    setTimeout(() => {\n      console.log(\"UserEmailCheckBefore:\" + this.state.userData.email);\n      //             console.log(\"first name: \",this.state.userData.cognito\\:username)\n      console.log(\"first name: \", this.state.userData.last_name);\n      console.log(\"isAdmin:\" + this.state.isAdmin);\n      if (this.state.userData.email == \"2712aabbccdd@gmail.com\") {\n        this.state.isAdmin = true;\n      }\n      if (this.state.isAdmin) {\n        this.updateTable(this.state.userData.email, this.state.isAdmin);\n      } else {\n        this.updateTable2(this.state.userData.email, this.state.isAdmin);\n      }\n    }, 500);\n    dataService.getUser();\n  }\n  onClickDownLoad(file) {\n    console.log(\"file name:\", file);\n    window.open(\"https://dfbiaa0nywvvp.cloudfront.net/\" + file);\n    saveAs(\"https://dfbiaa0nywvvp.cloudfront.net/\" + file, file);\n  }\n  onClickDelete(fileName, id) {\n    dataService.deleteFile(fileName, id).then(json => {\n      console.log(json);\n      setTimeout(() => {\n        if (this.state.isAdmin) {\n          this.updateTable();\n        } else {\n          this.updateTable2(this.state.userData.email);\n        }\n      }, 300);\n    }).catch(reason => {\n      console.log(\"Failed to delete, reason is : \", reason);\n    });\n  }\n\n  // fetchListAgain\n\n  render() {\n    const {\n      isAdmin\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 12\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 28\n      }\n    }, \" Signed in as: \", this.state.userData && /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 33\n      }\n    }, this.state.userData.email), \"\\xA0\\xA0 User Type: \", isAdmin && /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 44\n      }\n    }, \" \\\"Administrator\\\" \"), !isAdmin && /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 45\n      }\n    }, \" \\\"User (Non Admin)\\\"\"), this.state.userData && /*#__PURE__*/React.createElement(LogOut, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 45\n      }\n    }), !this.state.userData && /*#__PURE__*/React.createElement(LogInPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 46\n      }\n    })), this.state.userData && /*#__PURE__*/React.createElement(UploadFile, {\n      user: this.state.userData.email,\n      desc: this.state.desc,\n      refreshList: e => this.updateTable(),\n      refreshList2: e => this.updateTable2(e),\n      isAdmin: isAdmin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      key: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 29\n      }\n    }, isAdmin && /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 37\n      }\n    }, \"User Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 33\n      }\n    }, \"File Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 33\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 33\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 33\n      }\n    }, \"File Upload Time\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 33\n      }\n    }, \"File Updated Time\"), !isAdmin && /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 46\n      }\n    }, \"Download\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 33\n      }\n    }, \"Delete\")), this.state.userDataDynamo.map(item => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 41\n        }\n      }, isAdmin && /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 49\n        }\n      }, item.userName), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 45\n        }\n      }, item.fileName), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 45\n        }\n      }, item.description), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 45\n        }\n      }, item.id), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 45\n        }\n      }, item.fileCreatedTime), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 45\n        }\n      }, item.fileUpdatedTime), !isAdmin && /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        class: \"download_button\",\n        onClick: event => this.onClickDownLoad(item.fileName),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"https://dfbiaa0nywvvp.cloudfront.net/\" + item.fileName,\n        target: \"_blank\",\n        download: item.fileName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 49\n        }\n      }, \"DownLoad\"))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        class: \"delete_button\",\n        onClick: event => this.onClickDelete(item.fileName, item.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 49\n        }\n      }, \"Delete\")));\n    })))));\n  }\n}\nexport default UserPage;","map":{"version":3,"names":["React","PureComponent","saveAs","dataService","UploadFile","LogOut","LogInPage","jwt","require","UserPage","constructor","props","sessionToken","sessionStorage","getItem","state","userDataDynamo","userData","undefined","desc","isAdmin","setDescription","bind","updateTable","d","setState","updateTable2","user","user_admin","console","log","boll","getUserData","then","json","Array","isArray","catch","reason","componentDidMount","token","payload","verifier","verify","decoded","decode","buff","Buffer","base64ToStringNew","toString","complete","header","userObj","filter","g","length","setTimeout","email","last_name","getUser","onClickDownLoad","file","window","open","onClickDelete","fileName","id","deleteFile","render","e","map","item","userName","description","fileCreatedTime","fileUpdatedTime","event"],"sources":["/Users/sunku/Downloads/DropBucket-CMPE281-master/src/components/homePage.jsx"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport { saveAs } from \"file-saver\";\nimport { dataService } from '../services/dataService';\nimport UploadFile from './uploadFile';\nimport LogOut from './LogOut';\nimport LogInPage from './login';\nimport '../myStyle.css';\nvar jwt = require('jsonwebtoken');\n\nclass UserPage extends PureComponent {\n\n\n    constructor(props) {\n        super(props)\n\n        const sessionToken = sessionStorage.getItem(\"token\")\n        // JWT DECODE\n        // Store decoded jwt in session storage\n\n        this.state = {\n            userDataDynamo: [],\n            userData: undefined,\n            desc: \"\",\n            isAdmin: false\n        }\n        this.setDescription = this.setDescription.bind(this)\n        this.updateTable = this.updateTable.bind(this)\n    }\n\n    setDescription(d) {\n        this.setState({\n            desc: d\n        })\n    }\n\n    updateTable2(user,user_admin) {\n        console.log(\"Called Update Table\");\n        var boll = false;\n        if(user_admin == true)\n            boll = true;\n        dataService.getUserData(user,boll)\n            .then(json => {\n                console.log(json);\n                if (Array.isArray(json)) {\n                    this.setState({\n                        userDataDynamo: json\n                    });\n                }\n            })\n            .catch(reason => {\n                console.log(\"Failed to fetch data from server, reason is : \", reason);\n            });\n    }\n    updateTable(user) {\n        console.log(\"Called Update Table\");\n        dataService.getUserData(user,true)\n            .then(json => {\n                console.log(json);\n                if (Array.isArray(json)) {\n                    this.setState({\n                        userDataDynamo: json\n                    });\n                }\n            })\n            .catch(reason => {\n                console.log(\"Failed to fetch data from server, reason is : \", reason);\n            });\n    }\n\n//     async getUserInfo() {\n//       const user = await Auth.currentAuthenticatedUser();\n//       console.log('attributes:', user.attributes);\n//     }\n\n    componentDidMount() {\n//         this.getUserInfo();\n\n        var token = sessionStorage.getItem(\"token\");\n        console.log(\"token \",token);\n        try {\n          const payload = this.verifier.verify(\n            token\n          );\n          console.log(\"Token is valid. Payload:\", payload);\n        } catch {\n          console.log(\"Token not valid!\");\n        }\n        var decoded = jwt.decode(token);\n        let buff = new Buffer(token, 'base64');\n        let base64ToStringNew = buff.toString('ascii');\n        console.log(\"base64 string: \",base64ToStringNew);\n        // get the decoded payload and header\n        var decoded = jwt.decode(token, { complete: true });\n        console.log(\"decoded header: \",decoded.header);\n        console.log(\"payload: \",decoded.payload);\n        const userObj = decoded.payload;\n        this.setState({\n            userData: userObj\n        })\n        const isAdmin = userObj && userObj[\"cognito:groups\"] && userObj[\"cognito:groups\"].filter(g => g == \"admin\").length > 0;\n//            const admin = false;\n//            if(this.state.userData.email==\"2712aabbccdd@gmail.com\"){\n//             admin = true;\n//            }\n        this.setState({ isAdmin });\n        setTimeout(()=> {\n            console.log(\"UserEmailCheckBefore:\"+this.state.userData.email)\n//             console.log(\"first name: \",this.state.userData.cognito\\:username)\n            console.log(\"first name: \",this.state.userData.last_name)\n            console.log(\"isAdmin:\"+this.state.isAdmin)\n            if(this.state.userData.email==\"2712aabbccdd@gmail.com\"){\n                this.state.isAdmin = true;\n            }\n            if (this.state.isAdmin){\n                this.updateTable(this.state.userData.email,this.state.isAdmin)\n            } else {\n                this.updateTable2(this.state.userData.email,this.state.isAdmin);\n            }\n        }, 500);\n\n\n        dataService.getUser()\n    }\n\n\n    onClickDownLoad(file) {\n        console.log(\"file name:\"  ,file);\n        window.open(\"https://dfbiaa0nywvvp.cloudfront.net/\" + file);\n        saveAs(\"https://dfbiaa0nywvvp.cloudfront.net/\"+file, file );\n    }\n\n    onClickDelete(fileName, id) {\n        dataService.deleteFile(fileName, id)\n            .then(json => {\n                console.log(json);\n                setTimeout(()=> {\n                if (this.state.isAdmin){\n                    this.updateTable()\n                } else {\n                    this.updateTable2(this.state.userData.email);\n                }\n            }, 300);\n\n            })\n            .catch(reason => {\n                console.log(\"Failed to delete, reason is : \", reason);\n            });\n    }\n\n    // fetchListAgain\n\n\n\n\n    render() {\n\n        const { isAdmin } = this.state;\n\n        return (\n\n           <center> <div>\n                           <p> Signed in as: {this.state.userData &&\n                                <a href=\"#login\">{this.state.userData.email}</a>}\n                            &nbsp;&nbsp;\n                            User Type: {\n                                isAdmin && <a> \"Administrator\" </a>\n                            }\n                            {\n                                !isAdmin && <a> \"User (Non Admin)\"</a>\n                            }\n                    {this.state.userData && <LogOut></LogOut>}\n                    {!this.state.userData && <LogInPage></LogInPage>}</p>\n                {\n                    this.state.userData &&\n                    <UploadFile\n                        user={this.state.userData.email}\n                        desc={this.state.desc}\n                        refreshList={e => this.updateTable()}\n                        refreshList2={e => this.updateTable2(e)}\n                        isAdmin={isAdmin}\n                    >\n                    </UploadFile>\n                }\n\n\n                <div>\n                    <table>\n                            <tr key={0}>\n                                {\n                                    isAdmin &&\n                                    <th>User Name</th>\n                                }\n\n                                <th>File Name</th>\n                                <th>Description</th>\n                                <th>ID</th>\n                                <th>File Upload Time</th>\n                                <th>File Updated Time</th>\n                                {!isAdmin && <th>Download</th>\n                                }\n                                <th>Delete</th>\n                            </tr>\n                            {\n                                this.state.userDataDynamo.map(item => {\n                                    return (\n                                        <tr key={item.id}>\n                                            {\n                                                isAdmin &&\n                                                <td>{item.userName}</td>\n                                            }\n\n                                            <td>{item.fileName}</td>\n                                            <td>{item.description}</td>\n                                            <td>{item.id}</td>\n                                            <td>{item.fileCreatedTime}</td>\n                                            <td>{item.fileUpdatedTime}</td>\n                                            { !isAdmin &&\n                                            <td><button class=\"download_button\" onClick={event => this.onClickDownLoad(item.fileName)}>\n                                                <a href={\"https://dfbiaa0nywvvp.cloudfront.net/\" + item.fileName} target=\"_blank\" download={item.fileName}>DownLoad</a>\n                                            </button></td>\n                                            }\n                                            <td><button class=\"delete_button\" onClick={event => this.onClickDelete(item.fileName, item.id)}>\n                                                Delete\n                                            </button></td>\n                                        </tr>\n\n                                    );\n                                })\n                            }\n                    </table>\n\n                </div>\n\n            </div></center>\n\n        )\n    }\n}\n\nexport default UserPage"],"mappings":"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"},"metadata":{},"sourceType":"module"}